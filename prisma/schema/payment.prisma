model Payment {
    id                 String        @id @default(uuid(7))
    appointmentId      String
    amount             Float         @default(0.0)
    transactionId      String        @db.Text
    status             PaymentStatus @default(UNPAID)
    paymentGatewayData Json?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    appointment Appointment @relation(fields: [appointmentId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    @@unique([appointmentId])
    @@index([transactionId], name: "idx_payments_transaction_id")
    @@map("payments")
}
