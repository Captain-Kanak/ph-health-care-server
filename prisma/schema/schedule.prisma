model Schedule {
    id        String   @id @default(uuid(7))
    startDate DateTime
    endDate   DateTime
    startTime DateTime
    endTime   DateTime

    createdAt       DateTime         @default(now())
    updatedAt       DateTime         @updatedAt
    doctorSchedules DoctorSchedule[]

    @@map("schedules")
}

model DoctorSchedule {
    id         String  @id @default(uuid(7))
    doctorId   String
    scheduleId String
    isBooked   Boolean

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    doctor   Doctor   @relation(fields: [doctorId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    schedule Schedule @relation(fields: [scheduleId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    @@unique([doctorId, scheduleId])
    @@index([doctorId], name: "idx_doctor_schedule_doctor_id")
    @@index([scheduleId], name: "idx_doctor_schedule_schedule_id")
    @@map("doctor_schedules")
}
